(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{501:function(e,r,t){"use strict";t(14),t(12),t(7),t(6),t(10);var n=t(3),o=(t(502),t(19));function l(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(r){Object(n.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}r.a=o.a.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(e){var r;return this.$attrs.role&&"separator"!==this.$attrs.role||(r=this.vertical?"vertical":"horizontal"),e("hr",{class:c({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:c({role:"separator","aria-orientation":r},this.$attrs),on:this.$listeners})}})},502:function(e,r,t){var content=t(503);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(16).default)("7132a15d",content,!0,{sourceMap:!1})},503:function(e,r,t){(r=t(15)(!1)).push([e.i,".theme--light.v-divider{border-color:rgba(0,0,0,.12)}.theme--dark.v-divider{border-color:hsla(0,0%,100%,.12)}.v-divider{display:block;flex:1 1 0px;max-width:100%;height:0;max-height:0;border:solid;border-width:thin 0 0;transition:inherit}.v-divider--inset:not(.v-divider--vertical){max-width:calc(100% - 72px)}.v-application--is-ltr .v-divider--inset:not(.v-divider--vertical){margin-left:72px}.v-application--is-rtl .v-divider--inset:not(.v-divider--vertical){margin-right:72px}.v-divider--vertical{align-self:stretch;border:solid;border-width:0 thin 0 0;display:inline-flex;height:inherit;min-height:100%;max-height:100%;max-width:0;width:0;vertical-align:text-bottom}.v-divider--vertical.v-divider--inset{margin-top:8px;min-height:0;max-height:calc(100% - 16px)}",""]),e.exports=r},583:function(e,r,t){"use strict";t.r(r);t(14),t(12),t(7),t(6),t(10);var n=t(3),o=(t(44),t(58),t(18)),l=t(466),c=t(50),d=t(212),v=t(62);function m(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(r){Object(n.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}var h={components:{CardForm:d.a},asyncData:function(e){var r=e.query,t=void 0===r?{}:r,n=t.token,o=t.email;return{validThisEmail:n&&o?t:null}},data:function(){return{error:"",showPass:!1,password:"",email:"",loading:!0,reenvioMail:!1,emailValid:!1,modalForgetPassword:!1}},layout:function(){return l.isMobile?"mobile":"default"},computed:{},created:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t=e.$route.query.token)){r.next=9;break}return v.a.set(t),e.loading=!1,r.next=6,e.getMe();case 6:e.$router.replace("/trabajos"),r.next=10;break;case 9:v.a.get(),e.loading=!1;case 10:case"end":return r.stop()}}),r)})))()},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.validThisEmail){r.next=8;break}return r.next=3,e.signupVerification(e.validThisEmail);case 3:t=r.sent,n=t.error,e.email=e.validThisEmail.email,e.loading=!1,e.emailValid=!n;case 8:case"end":return r.stop()}}),r)})))()},methods:f(f({},Object(c.b)(["login","getMe","sendEmail","forgetPassword","signupVerification"])),{},{authLinkedin:function(){},authFacebook:function(){this.loading=!0,window.location.replace("https://contratados-526e0e.us1.kinto.io/api/auth/facebook")},authGoogle:function(){this.loading=!0,window.location.replace("https://contratados-526e0e.us1.kinto.io/api/auth/google")},authLocal:function(e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return r.loading=!0,t.next=5,r.login({email:r.email,password:r.password});case 5:n=t.sent,o=n.error,data=n.data,o?r.error=o:data.email_verified?r.$router.replace("/trabajos"):r.reenvioMail=!0,r.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},reSendEmail:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.loading=!0,r.next=3,e.sendEmail({email:e.email});case 3:t=r.sent,(n=t.error)?e.error=n:e.reenvioMail=!1,e.loading=!1;case 7:case"end":return r.stop()}}),r)})))()},sendEmailForgetPassword:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.email){r.next=4;break}e.error="Indicamos el email de la cuenta.",r.next=11;break;case 4:return e.loading=!0,r.next=7,e.forgetPassword({email:e.email});case 7:t=r.sent,(n=t.error)?e.error=n:e.modalForgetPassword=!0,e.loading=!1;case 11:case"end":return r.stop()}}),r)})))()}})},w=t(27),x=t(42),y=t.n(x),k=t(81),O=t(101),j=t(267),_=t(211),P=t(501),V=t(449),E=t(450),C=t(196),F=t(265),S=t(158),component=Object(w.a)(h,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-layout",{attrs:{"align-center":"","justify-center":"","fill-height":""}},[t("v-layout",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{column:"","justify-center":"","align-center":""}},[t("v-flex",{attrs:{xs12:"",md6:"",lg4:"",xl3:""}},[t("CardForm",{attrs:{"hide-header":""},on:{submit:e.authLocal},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Acceder")]},proxy:!0},{key:"default",fn:function(r){var n=r.rules;return[t("v-text-field",{attrs:{label:"E-mail",name:"email",success:e.emailValid,hint:e.emailValid?"Email validado con exito":void 0,"append-icon":e.emailValid?"check":void 0,"persistent-hint":e.emailValid,required:"",type:"email",rules:[n.required(),n.email()],readonly:e.loading},on:{change:function(r){e.emailValid=!1}},model:{value:e.email,callback:function(r){e.email=r},expression:"email"}}),e._v(" "),t("v-text-field",{attrs:{label:"Contraseña",name:"password",required:"","append-icon":e.showPass?"visibility_off":"visibility",type:e.showPass?"text":"password",rules:[n.required()],readonly:e.loading},on:{"click:append":function(r){e.showPass=!e.showPass}},model:{value:e.password,callback:function(r){e.password=r},expression:"password"}}),e._v(" "),t("v-flex",{attrs:{xs12:"","my-1":"","pb-2":""}},[t("a",{attrs:{disabled:e.loading},on:{click:e.sendEmailForgetPassword}},[e._v("\n              ¿Olvidaste tu contraseña?\n            ")])])]}},{key:"message",fn:function(){return[t("error",{attrs:{text:e.error}})]},proxy:!0},{key:"actions",fn:function(){return[t("v-btn",{attrs:{text:"",disabled:e.loading,to:"/singup",replace:""}},[e._v("\n            Crear Cuenta\n          ")]),e._v(" "),t("v-btn",{attrs:{disabled:e.loading,color:"primary",type:"submit"}},[e._v("\n            Iniciar Sesión\n          ")])]},proxy:!0}])})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg4:"","mt-4":""}},[t("v-flex",[t("v-layout",{attrs:{"align-center":"","my-3":""}},[t("v-divider",{staticClass:"mr-4"}),e._v(" "),t("span",[e._v("Iniciar Sesión o Crear Cuenta")]),e._v(" "),t("v-divider",{staticClass:"ml-4"})],1)],1),e._v(" "),t("v-row",{attrs:{align:"center",justify:"center"}},[t("v-col",[t("v-btn",{attrs:{dark:"",color:"#3c66c4",depressed:"","x-large":""},on:{click:e.authFacebook}},[e._v("\n            Facebook\n          ")])],1),e._v(" "),t("v-col",[t("v-btn",{attrs:{dark:"",color:"#cf4332",depressed:"","x-large":""},on:{click:e.authGoogle}},[e._v("\n            Google\n          ")])],1)],1)],1)],1),e._v(" "),t("v-layout",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{column:"","justify-center":"","align-center":""}},[t("v-progress-circular",{attrs:{size:70,width:7,color:"primary",indeterminate:""}}),e._v(" "),t("p",{staticClass:"mt-4"},[e._v("Iniciando Sesión")])],1),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.reenvioMail,callback:function(r){e.reenvioMail=r},expression:"reenvioMail"}},[t("v-card",[t("CardForm",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Email no verificado")]},proxy:!0},{key:"actions",fn:function(){return[t("v-btn",{attrs:{color:"primary"},on:{click:function(r){e.reenvioMail=!1}}},[e._v("Aceptar")])]},proxy:!0}])},[e._v(" "),[t("p",[e._v("Verifique su casilla de correo no deseados.")]),e._v("\n          ¿No recibiste el email?\n          "),t("p",[t("a",{on:{click:function(r){return e.reSendEmail()}}},[e._v("Volver a enviar el email")])])]],2)],1)],1),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.modalForgetPassword,callback:function(r){e.modalForgetPassword=r},expression:"modalForgetPassword"}},[t("v-card",[t("CardForm",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Cambio de contraseña.")]},proxy:!0},{key:"actions",fn:function(){return[t("v-btn",{attrs:{color:"primary"},on:{click:function(r){r.stopPropagation(),e.modalForgetPassword=!1}}},[e._v("\n            Aceptar\n          ")])]},proxy:!0}])},[e._v(" "),[e._v("\n          Hemos enviado un email a su dirección de correo electrónico para\n          continuar con el cambio de contraseña.\n        ")]],2)],1)],1)],1)}),[],!1,null,null,null);r.default=component.exports;y()(component,{VBtn:k.a,VCard:O.a,VCol:j.a,VDialog:_.a,VDivider:P.a,VFlex:V.a,VLayout:E.a,VProgressCircular:C.a,VRow:F.a,VTextField:S.a})}}]);