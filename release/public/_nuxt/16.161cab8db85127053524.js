(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{459:function(t,e,r){"use strict";r.d(e,"b",(function(){return x})),r.d(e,"c",(function(){return y})),r.d(e,"d",(function(){return _})),r.d(e,"e",(function(){return j})),r.d(e,"a",(function(){return w}));r(58);var n=r(18),o=r(66),c=function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,r.query?r.query.deleted=!1:r.query={deleted:!1},e.next=5,o.a.get(t,{params:r});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||"ApiError"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))},l=function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,e.next=4,o.a.get(t,{params:r});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{error:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||"ApiError"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))},d=function(t){return function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},e.prev=1,e.next=4,o.a.get(t+"/".concat(r),{params:n});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{error:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||"ApiError"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},f=function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,r.query?r.query.deleted=!1:r.query={deleted:!1},e.next=5,o.a.get(t+"/count",{params:r});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||"ApiError"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))},v=function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var object,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(object=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,!object._id){e.next=8;break}return e.next=5,o.a.patch(t+"/".concat(object._id),object);case 5:return e.abrupt("return",e.sent);case 8:return e.next=10,o.a.post(t,object);case 10:return e.abrupt("return",e.sent);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",{error:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||"ApiError"});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))},m=function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var object,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return object=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,e.next=4,o.a.patch(t+"/".concat(object._id),{deleted:!0});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{error:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||"ApiError"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))},h=function(t){var e="http://localhost:8080/api"+t;return{save:v(e),delete:m(e),getAll:l(e),get:c(e),getById:d(e),count:f(e)}},x=h("/habilidad"),y=h("/localidad"),_=h("/persona"),j=h("/trabajo"),w=(h("/agenda"),h("/comunicacion"))},461:function(t,e,r){var content=r(474);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("351d1189",content,!0,{sourceMap:!1})},463:function(t,e,r){"use strict";var n=r(494),o=r(477);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PP",r="string"==typeof t?new Date(t):t;return Object(n.a)(r,e,{locale:o.a})}},467:function(t,e,r){var content=r(483);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("67187225",content,!0,{sourceMap:!1})},468:function(t,e,r){"use strict";(function(t){r(14),r(12),r(7),r(10);var n=r(3),o=(r(23),r(24),r(6),r(44),r(58),r(18)),c=r(511),l=r(492),d=r(142),f=r(471),v=r(486),m=r(478),h=r(487),x=r(488),y=r(479),_=r(459),j=r(463),w=r(175),k=r.n(w),C=r(174);function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function E(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={components:{Rating:f.a,Avatar:d.a,CardChat:v.a,FieldDate:h.a,FieldTime:x.a,FieldTextArea:y.a,ModalPublicJob:m.a},filters:{camelCase:k.a},props:{trabajo:{type:Object,required:!0}},data:function(){return{showChat:!1,loading:!1,avatarError:!0,base64img:null,showModalPublic:!1,newComments:!1,form:{estado:null,fechaFin:null,notas:"",detalle:"",fechaInicio:null},showSetHours:!1,comunicaciones:[],optionsModal:!1,notesModal:!1,interval:null}},computed:{lgAndUp:function(){return this.$vuetify.breakpoint.lgAndUp},mdAndDown:function(){return this.$vuetify.breakpoint.mdAndDown},Estados:function(){return C.EstadoTrabajoLabel},realEstado:function(){var t=new Date(this.agenda.fecha_inicio);return this.trabajo.estado===C.EstadoTrabajo.PENDIENTE&&t&&Object(l.a)(Date.now(),t)?C.EstadoTrabajo.EN_PROGRESO:this.trabajo.estado},user:function(){return this.$store.state.user},estadosColor:function(){return C.EstadoTrabajoColor[this.realEstado]},estadoLabel:function(){return k()(this.realEstado)},isEstado:function(){var t={};for(var e in C.EstadoTrabajo)t[e]=this.realEstado===C.EstadoTrabajo[e];return t},isPablic:function(){return this.trabajo.tipo===C.TipoTrabajo.PUBLICO},cliente:function(){return this.trabajo.cliente},isMyPublicJob:function(){return this.isPablic&&this.profesional._id===this.user._id},profesional:function(){return this.trabajo.profesional},showAsCliente:function(){return this.cliente._id===this.$store.state.user._id},displayName:function(){var t=this.showAsCliente?"profesional":"cliente",e=this[t].nombre||"",r=this[t].apellido||"";return k()(this[t].razon_social?this[t].razon_social+"(".concat(e," ").concat(r,")"):e+" "+r)},displayPicture:function(){var t=this.showAsCliente?"profesional":"cliente";return this.trabajo[t].picture},displayEmail:function(){var t=this.showAsCliente?"profesional":"cliente";return this.trabajo[t].email},agenda:function(){var t=this.trabajo.agenda.length-1;return t>=0&&this.trabajo.agenda[t]||{}},displayFecha:function(){var t=this.agenda.fecha_inicio||this.trabajo.createdAt;return this.isPablic||this.isEstado.TERMINADO?(this.trabajo.estado?"Realizado ":"Publicado ")+Object(j.a)(t,"dd/MM/yyyy"):k()(Object(j.a)(t,"EEEE HH:mm 'hs'"))},canRating:function(){var t,e;return this.$store.state.user._id===(null===(t=this.trabajo)||void 0===t||null===(e=t.cliente)||void 0===e?void 0:e._id)},idLastChatsWithDate:function(){var t,e,r=(null===(t=this.comunicaciones)||void 0===t?void 0:t.filter((function(t){return!!t.fecha})))||[],n=r.length-1;return n>=0?null===(e=r[n])||void 0===e?void 0:e._id:null}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,t.cancel(),t.trabajo.tipo===C.TipoTrabajo.PUBLICO){e.next=7;break}return e.next=5,r.getChat();case 5:t.newComments=!1,t.interval=setInterval((function(){try{r.getChat()}catch(t){clearInterval(this.interval)}}),1e4);case 7:case"end":return e.stop()}}),e)})))()},mounted:function(){this.trabajo.tipo===C.TipoTrabajo.PUBLICO&&this.loadImg()},beforeDestroy:function(){clearInterval(this.interval)},methods:{goToPerfi:function(){var t=this.showAsCliente?"profesional":"cliente",e=this.trabajo[t]._id;this.$router.replace("/perfil/"+e)},openChat:function(){this.showChat=!this.showChat,this.scrollChatToBottom(),this.newComments=!1},scrollChatToBottom:function(){this.$nextTick((function(){this.$refs.chat.scrollTo(0,this.$refs.chat.clientWidth)}))},getChat:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.comunicaciones.length,e.next=3,_.a.getAll({query:{trabajo:t.trabajo._id},sort:"createdAt"});case 3:n=e.sent,data=n.data,!1===t.newComments&&(t.newComments=r<data.length),t.comunicaciones=data||[],t.page=self.numberOfPages;case 8:case"end":return e.stop()}}),e)})))()},loadImg:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$http.get("/images/jobs/".concat(e.trabajo._id,".jpeg"),{responseType:"arraybuffer"});case 3:n=r.sent,o=n.data,e.base64img="data:image/jpeg;base64,"+t.from(o,"binary").toString("base64"),e.avatarError=!1,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),e.avatarError=!0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},accept:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,l,d,f,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new Date(t),o=Object(c.a)(n,3),e.loading=!0,e.trabajo.estado=C.EstadoTrabajo.PENDIENTE,l={fecha_inicio:n,fecha_fin:o},void 0===e.trabajo.agenda&&(e.trabajo.agenda=[]),e.trabajo.agenda.push(l),r.next=9,_.e.save(e.trabajo);case 9:d=r.sent,f=d.error,data=d.data,f?e.$notify({type:"error",text:f}):e.trabajo.estado=data.estado,e.loading=!1;case 14:case"end":return r.stop()}}),r)})))()},reject:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.trabajo.estado=C.EstadoTrabajo.CANCELADO,e.next=4,_.e.save(t.trabajo);case 4:r=e.sent,n=r.error,data=r.data,n?t.$notify({type:"error",text:n}):t.trabajo.estado=data.estado,t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},sendComent:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.form.detalle){e.next=2;break}return e.abrupt("return");case 2:return(r={trabajo:t.trabajo._id}).detalle=t.form.detalle,t.showAsCliente?(r.to=t.trabajo.profesional,r.from=t.trabajo.cliente):(r.to=t.trabajo.cliente,r.from=t.trabajo.profesional),t.loading=!0,e.next=8,_.a.save(r);case 8:n=e.sent,data=n.data,(o=n.error)?t.$notify({type:"error",text:o}):(t.form.detalle="",t.comunicaciones.push(data),t.scrollChatToBottom()),t.loading=!1;case 13:case"end":return e.stop()}}),e)})))()},sendHours:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r={trabajo:t.trabajo._id}).fecha=t.form.fechaInicio,t.showAsCliente?(r.to=t.trabajo.profesional,r.from=t.trabajo.cliente):(r.to=t.trabajo.cliente,r.from=t.trabajo.profesional),t.loading=!0,e.next=6,_.a.save(r);case 6:n=e.sent,data=n.data,(o=n.error)?t.$notify({type:"error",text:o}):(t.form.fecha=new Date,t.comunicaciones.push(data),t.showSetHours=!1,t.scrollChatToBottom()),t.loading=!1;case 11:case"end":return e.stop()}}),e)})))()},updateTrabajo:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.trabajo.estado=t.form.estado,t.trabajo.notas=t.form.notas,t.trabajo.agenda.push({fecha_inicio:t.form.fechaInicio,fecha_fin:t.form.fechaFin}),e.next=6,_.e.save(t.trabajo);case 6:r=e.sent,n=r.error,data=r.data,n?t.$notify({type:"error",text:n}):(t.trabajo.estado=data.estado,t.$notify({type:"success",text:"Trabajo actualizado."}),t.$emit("change"),t.cancel()),t.loading=!1;case 11:case"end":return e.stop()}}),e)})))()},cancel:function(){this.optionsModal=!1,this.notesModal=!1,this.trabajo.oldEstado=this.trabajo.estado,this.form={estado:this.trabajo.estado,notas:this.trabajo.notas,fechaInicio:this.agenda.fecha_inicio?new Date(this.agenda.fecha_inicio):new Date,fechaFin:this.agenda.fecha_fin?new Date(this.agenda.fecha_fin):new Date,detalle:""}},addNotes:function(){this.notesModal=!0},markAsDone:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,(r=E({},t.trabajo)).oldEstado=t.trabajo.estado,r.estado=C.EstadoTrabajo.TERMINADO,e.next=6,_.e.save(r);case 6:n=e.sent,(o=n.error)?t.$notify({type:"error",text:o}):(t.$notify({type:"success",text:"Trabajo actualizado."}),t.$emit("change"),t.cancel()),t.loading=!1;case 10:case"end":return e.stop()}}),e)})))()},saveRating:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.loading=!0,e.trabajo.rating=t,r.next=4,_.e.save(e.trabajo);case 4:n=r.sent,(o=n.error)?e.$notify({type:"error",text:o}):(e.$notify({type:"success",text:"Gracias por puntuar."}),e.$emit("change"),e.cancel()),e.loading=!1;case 8:case"end":return r.stop()}}),r)})))()},publish:function(){this.$emit("change"),this.loadImg()}}}}).call(this,r(269).Buffer)},469:function(t,e,r){var content=r(485);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("059b7521",content,!0,{sourceMap:!1})},471:function(t,e,r){"use strict";r(20);var n=r(174),o={props:{value:{type:[String,Number],default:0},editable:{type:Boolean,default:!1},star:{type:Boolean,default:!1},size:{type:[String,Number],default:0}},data:function(){return{}},computed:{upIcon:function(){return{color:this.value===n.RatingTrabajo.LIKE||this.value>=50&&this.value>0?"blue lighten-2":"grey lighten-1",size:this.size||(this.value>=50?42:32)}},downIcon:function(){return{color:this.value===n.RatingTrabajo.DONT_LIKE||this.value<=50&&this.value>0?"red lighten-2":"grey lighten-1",size:this.size||(this.value>=50?42:32)}},starValue:function(){return 5*this.value}},methods:{emit:function(t){this.$emit("change",t?n.RatingTrabajo.LIKE:n.RatingTrabajo.DONT_LIKE)}}},c=(r(473),r(27)),l=r(42),d=r.n(l),f=r(81),v=r(453),m=r(108),h=r(450),x=r(531),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.star?r("v-rating",{attrs:{value:t.starValue,"half-increments":"",color:"amber","half-icon":"star_half","background-color":"grey",readonly:"",dense:"",size:"32"}}):[t.editable?r("v-layout",{attrs:{"justify-center":"","align-center":""}},[r("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.hover;return[r("v-btn",{staticClass:"mx-2",attrs:{text:"",icon:"",color:n?"blue":t.upIcon.color},on:{click:function(e){return t.emit(!0)}}},[r("v-icon",[t._v("mdi-thumb-up")])],1)]}}],null,!1,550231098)}),t._v(" "),r("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.hover;return[r("v-btn",{staticClass:"mx-2",attrs:{text:"",icon:"",color:n?"red":t.downIcon.color},on:{click:function(e){return t.emit(!1)}}},[r("v-icon",[t._v("mdi-thumb-down")])],1)]}}],null,!1,2171925500)})],1):r("v-layout",{attrs:{"justify-center":"","align-center":""}},[r("v-icon",{staticClass:"ma-2 px-1",attrs:{size:t.upIcon.size,color:t.upIcon.color}},[t._v("\n        mdi-thumb-up\n      ")]),t._v(" "),r("v-icon",{staticClass:"ma-2 px-1",attrs:{size:t.downIcon.size,color:t.downIcon.color}},[t._v("\n        mdi-thumb-down\n      ")])],1)]],2)}),[],!1,null,"96c43008",null);e.a=component.exports;d()(component,{VBtn:f.a,VHover:v.a,VIcon:m.a,VLayout:h.a,VRating:x.a})},473:function(t,e,r){"use strict";var n=r(461);r.n(n).a},474:function(t,e,r){(e=r(15)(!1)).push([t.i,".logo[data-v-96c43008]{margin:2px 0 0;height:42px}",""]),t.exports=e},478:function(t,e,r){"use strict";r(14),r(12),r(7),r(6),r(10),r(58);var n=r(18),o=r(3),c=r(212),l=r(220),d=r(174),f=r(459),v=r(218);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var h=Object(v.a)("progressFileUpload").trabajo,x={components:{CardForm:c.a,CardCropper:l.a},props:{trabajo:{type:Object,default:function(){return{}}},value:{type:Boolean,default:!1}},data:function(){return{loading:!1,pickupImg:!1,localidades:[],habilidades:[],form:{},pickedFile:null}},computed:{user:function(){return this.$store.state.user}},watch:{trabajo:function(t){var e,r;(this.close(!0),null===(e=this.trabajo)||void 0===e?void 0:e._id)?this.form=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.trabajo):this.form.localidad=null===(r=this.user.localidad)||void 0===r?void 0:r._id}},created:function(){},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.c.getAll();case 2:r=e.sent,n=r.data,t.localidades=n||[],t.habilidades=t.$store.state.user.servicios||[];case 6:case"end":return e.stop()}}),e)})))()},methods:{saveTrabajoImg:function(t){var e=t.file,r=t.fileName;this.pickedFile=e,this.form.fileName=r,this.pickupImg=!1},saveTrabajo:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,l,v;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:if(e.loading=!0,e.form.tipo=d.TipoTrabajo.PUBLICO,e.form.descripcion_breve=e.form.descripcion_breve.toLowerCase(),!e.pickedFile){r.next=13;break}return r.next=8,h(e.pickedFile,e.form);case 8:o=r.sent,c=o.error,n=c,r.next=18;break;case 13:return r.next=15,f.e.save(e.form);case 15:l=r.sent,v=l.error,n=v;case 18:n?e.$notify({type:"error",text:n.message||n}):(e.$notify({type:"success",text:"Trabajo actualizado."}),e.close()),e.loading=!1;case 20:case"end":return r.stop()}}),r)})))()},close:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(this.$emit("input",!1),this.$emit("change",this.form)),this.pickedFile=null,this.pickupImg=!1,this.form={estado:d.EstadoTrabajo.TERMINADO,tipo:d.TipoTrabajo.PUBLICO,fileName:"",localidad:{},servicios:[],descripcion_breve:"",descripcion:""}},delJob:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,f.e.delete(t.trabajo);case 3:r=e.sent,(n=r.error)?t.$notify({type:"error",text:n.message||n}):(t.$notify({type:"success",text:"Trabajo eliminado."}),t.close()),t.loading=!1;case 7:case"end":return e.stop()}}),e)})))()}}},y=r(27),_=r(42),j=r.n(_),w=r(81),k=r(211),C=r(449),O=r(450),E=r(572),T=r(158),D=r(544),component=Object(y.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"550",persistent:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[r("CardForm",{on:{submit:t.saveTrabajo},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Publicar trabajo")]},proxy:!0},{key:"default",fn:function(e){var n=e.rules;return[r("v-flex",{attrs:{xs12:"","mx-2":""}},[r("v-text-field",{attrs:{dense:"","hide-details":"",label:"Titulo o Descripción breve",outlined:"",readonly:t.loading,counter:"",rules:[n.required(),n.max(120)]},model:{value:t.form.descripcion_breve,callback:function(e){t.$set(t.form,"descripcion_breve",e)},expression:"form.descripcion_breve"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"","ma-2":""}},[r("v-select",{attrs:{dense:"","hide-details":"",items:t.habilidades,"item-text":"nombre","item-value":"_id",label:"Habilidad",loading:0===t.habilidades.length,multiple:"",outlined:"",readonly:t.loading,rules:[n.required()]},model:{value:t.form.servicios,callback:function(e){t.$set(t.form,"servicios",e)},expression:"form.servicios"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"","ma-2":""}},[r("v-select",{attrs:{dense:"","hide-details":"",items:t.localidades,"item-text":"nombre","item-value":"_id",label:"Localidad",loading:0===t.localidades.length,outlined:"",readonly:t.loading,rules:[n.required()]},model:{value:t.form.localidad,callback:function(e){t.$set(t.form,"localidad",e)},expression:"form.localidad"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"","ma-2":""}},[r("v-textarea",{attrs:{"auto-grow":"",counter:"500",dense:"",label:"Descripción",outlined:"",readonly:t.loading,rules:[n.max(500)]},model:{value:t.form.descripcion,callback:function(e){t.$set(t.form,"descripcion",e)},expression:"form.descripcion"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"","ma-2":""}},[r("v-layout",{attrs:{"align-center":""}},[r("v-btn",{attrs:{depressed:"",color:"secondary",disabled:t.loading},on:{click:function(e){e.stopPropagation(),t.pickupImg=!0}}},[t._v("\n            Elegir foto\n          ")]),t._v(" "),r("p",{staticClass:"mb-0 mx-4",domProps:{textContent:t._s(t.form.fileName)}}),t._v(" "),r("CardCropper",{attrs:{on:t.pickupImg},on:{"update:on":function(e){t.pickupImg=e},submit:t.saveTrabajoImg}})],1)],1)]}},{key:"actions-left",fn:function(){return[t.trabajo._id?r("v-btn",{attrs:{color:"red darken-4",text:""},on:{click:function(e){return t.delJob()}}},[t._v("\n        Eliminar\n      ")]):t._e()]},proxy:!0},{key:"actions",fn:function(){return[r("v-btn",{attrs:{text:"",disabled:t.loading},on:{click:function(e){return t.close()}}},[t._v("Cancelar ")]),t._v(" "),r("v-btn",{attrs:{disabled:t.loading,color:"primary",type:"submit"}},[t._v("\n        "+t._s(t.form._id?"Guardar":"Publicar")+"\n      ")])]},proxy:!0}])})],1)}),[],!1,null,null,null);e.a=component.exports;j()(component,{VBtn:w.a,VDialog:k.a,VFlex:C.a,VLayout:O.a,VSelect:E.a,VTextField:T.a,VTextarea:D.a})},479:function(t,e,r){"use strict";var n=r(219),o={components:{TiptapVuetify:n.l},props:{disabled:{type:Boolean,default:!1},value:{type:[Date,String],default:""},heading:{type:Boolean,default:!1},placeholder:{type:String,default:"Escribe un mensaje."},required:{type:Boolean,default:!1}},data:function(){return{content:""}},computed:{extensions:function(){var t=[n.a,n.n,n.k,n.g,n.h,n.c,n.i,n.b,n.f,n.j,n.d];return this.heading&&t.push([n.e,{options:{levels:[1,2]}}]),t}},watch:{content:function(t){this.$emit("input",t)}},created:function(){this.content=this.value},mounted:function(){},methods:{}},c=(r(482),r(27)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("tiptap-vuetify",{attrs:{extensions:t.extensions,placeholder:t.placeholder,"card-props":{outlined:!0}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})}),[],!1,null,null,null);e.a=component.exports},482:function(t,e,r){"use strict";var n=r(467);r.n(n).a},483:function(t,e,r){(e=r(15)(!1)).push([t.i,".tiptap-vuetify-editor .ProseMirror{margin:10px!important}.tiptap-vuetify-editor div.v-card.v-card--outlined.v-sheet.theme--light div.tiptap-vuetify-editor__content div.ProseMirror{max-height:200px;height:100px}",""]),t.exports=e},484:function(t,e,r){"use strict";var n=r(469);r.n(n).a},485:function(t,e,r){(e=r(15)(!1)).push([t.i,"div.chat-box[data-v-0a725862]{box-shadow:inset 0 0 3px rgba(0,0,0,.3);overflow-y:scroll;height:260px}",""]),t.exports=e},486:function(t,e,r){"use strict";var n=r(463),o=r(514),c=r(477),l={components:{},props:{chat:{type:Object,required:!0},editable:{type:Boolean,default:!0}},data:function(){return{}},computed:{isFrom:function(){var t,e=this.$store.state.user._id;return this.chat.from===e||(null===(t=this.chat.from)||void 0===t?void 0:t._id)===e},fechText:function(){return Object(n.a)(this.chat.fecha,"dd 'de' MMMM 'a las' HH:mm 'hs'")},fecha:function(){return t=this.chat.createdAt,e="string"==typeof t?new Date(t):t,Object(o.a)(e,{locale:c.a,addSuffix:!0});var t,e}},methods:{accept:function(){this.$emit("accept",this.chat.fecha)}}},d=r(27),f=r(42),v=r.n(f),m=r(81),h=r(101),x=r(39),y=r(450),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{wrap:"","align-center":"","justify-end":t.isFrom,"mt-2":""}},[r("div",{staticClass:"hidden-md-and-down"},[t.isFrom?r("p",{staticClass:"caption grey--text mb-0 mr-2",domProps:{textContent:t._s(t.fecha)}}):t._e()]),t._v(" "),r("v-card",{class:{"green lighten-5":t.isFrom}},[r("v-card-text",{staticClass:"py-1"},[t.chat.fecha?r("v-layout",{attrs:{column:""}},[r("p",{staticClass:"mb-1"},[t._v("\n          ¿Te parece una cita para el\n          "),r("span",{staticClass:"body-1 font-weight-black"},[t._v(t._s(t.fechText))]),t._v(" ?\n        ")]),t._v(" "),t.isFrom?t._e():r("v-btn",{staticClass:"mb-1",attrs:{disabled:!t.editable,color:"teal",text:""},on:{click:t.accept}},[t._v("\n          Concretar la cita\n        ")])],1):r("p",{staticClass:"mb-0",domProps:{textContent:t._s(t.chat.detalle)}})],1)],1),t._v(" "),r("div",{staticClass:"hidden-md-and-down"},[t.isFrom?t._e():r("p",{staticClass:"caption grey--text mb-0 ml-2",domProps:{textContent:t._s(t.fecha)}})])],1)}),[],!1,null,null,null);e.a=component.exports;v()(component,{VBtn:m.a,VCard:h.a,VCardText:x.b,VLayout:y.a})},487:function(t,e,r){"use strict";r(44),r(59);var n=r(35),o=(r(20),r(463)),c=r(213),l={props:{label:String,disabled:{type:Boolean,default:!1},resetHours:{type:Boolean,default:!1},hideDetails:Boolean,value:[Date,String],index:[Number,String],clearable:{type:Boolean,default:!1},onlyAdult:{type:Boolean,default:!1},required:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},startOnYear:{type:Boolean,default:!1},min:String,max:String},data:function(){return{date:"",menu:""}},computed:{formRules:function(){return c.a},color:function(){return this.disabled?"black":"primary"},rule:function(){var t=[];return this.required&&t.push(this.formRules.required()),this.onlyAdult&&t.push(this.isAdult),t},isAdult:function(){return this.date instanceof Date&&((new Date).setFullYear((new Date).getFullYear()-18)>this.date.getTime()||"Para usar Casilda Emprende tienes que tener más de 18 años.")},parseDate:{get:function(){var t=this.value;return t?new Date(t).toISOString().substr(0,10):null},set:function(t){if(t){var e=t.replace(/T\d+:\d+:\d+.\d+\+\d+$/,"").split("-"),r=Object(n.a)(e,3),o=r[0],c=r[1],l=r[2],d=new Date;d.setFullYear(o),d.setMonth(c-1),d.setDate(l),this.resetHours&&this.value?d.setHours(0,0,0,0):d.setHours(this.value.getHours(),this.value.getMinutes()),this.date=d}}},input:{get:function(){var t=this.value;return t?Object(o.a)(t,"dd/MM/yyyy"):null},set:function(t){this.date=t?new Date(t):null}}},watch:{menu:function(t){var e=this;this.startOnYear&&t&&!this.date&&setTimeout((function(){return e.$refs.picker.activePicker="YEAR"}),100)},date:function(t){this.$emit("input",t)}},created:function(){this.data=this.value},mounted:function(){this.$refs.menu.save(this.value)},methods:{saveDate:function(t){this.$refs.menu.save(t)},clear:function(){this.$emit("input",null)}}},d=r(27),f=r(42),v=r.n(f),m=r(579),h=r(441),x=r(158),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"max-width":"290px","min-width":"290px",disabled:t.disabled,"offset-y":"",transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-text-field",t._g({staticClass:"pt-0",attrs:{index:t.index,label:t.label,"hide-details":t.hideDetails,clearable:t.clearable,"prepend-icon":"event",dense:t.dense,color:t.color,readonly:"",rules:t.rule},on:{"click:clear":t.clear},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),r("v-date-picker",{ref:"picker",attrs:{locale:"es",min:t.min,max:t.max},on:{change:t.saveDate},model:{value:t.parseDate,callback:function(e){t.parseDate=e},expression:"parseDate"}})],1)}),[],!1,null,null,null);e.a=component.exports;v()(component,{VDatePicker:m.a,VMenu:h.a,VTextField:x.a})},488:function(t,e,r){"use strict";r(59);var n=r(35),o=(r(20),r(463)),c=r(213),l={props:{label:String,disabled:{type:Boolean,default:!1},hideDetails:Boolean,value:[Date,String],index:[Number,String],clearable:{type:Boolean,default:!1},required:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},min:String,max:String},data:function(){return{date:"",input:"",menu:""}},computed:{formRules:function(){return c.a},color:function(){return this.disabled?"black":"primary"},rule:function(){var t=[];return this.required&&t.push(this.formRules.required()),t},parseDate:{get:function(){var t=this.value;return t?Object(o.a)(t,"HH:mm"):null},set:function(t){if(t){var e=t.split(":"),r=Object(n.a)(e,2),o=r[0],c=r[1],l=this.value;l.setHours(o,c,0,0),this.input=t,this.date=l}}}},watch:{date:function(t){this.$emit("input",t)},value:function(t){this.input=Object(o.a)(t,"HH:mm")}},created:function(){},mounted:function(){this.input=Object(o.a)(this.value,"HH:mm")},methods:{saveHora:function(t){this.$refs.menu.save(t)},clear:function(){this.$emit("input",null)}}},d=r(27),f=r(42),v=r.n(f),m=r(441),h=r(158),x=r(589),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"max-width":"290px","min-width":"290px",disabled:t.disabled,"offset-y":"",transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-text-field",t._g({staticClass:"pt-0",attrs:{index:t.index,label:t.label,"hide-details":t.hideDetails,clearable:t.clearable,"prepend-icon":"alarm",dense:t.dense,color:t.color,readonly:"",rules:t.rule},on:{"click:clear":t.clear},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),r("v-time-picker",{attrs:{locale:"es",format:"24hr","full-width":"",min:t.min,max:t.max},on:{"click:minute":t.saveHora},model:{value:t.parseDate,callback:function(e){t.parseDate=e},expression:"parseDate"}})],1)}),[],!1,null,null,null);e.a=component.exports;v()(component,{VMenu:m.a,VTextField:h.a,VTimePicker:x.a})},489:function(t,e,r){"use strict";var n=r(468).a,o=(r(484),r(27)),c=r(42),l=r.n(c),d=r(590),f=r(81),v=r(101),m=r(39),h=r(498),x=r(211),y=r(103),_=r(449),j=r(453),w=r(108),k=r(138),C=r(450),O=r(197),E=r(572),T=r(210),D=r(158),P=r(434),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-dialog",{attrs:{"max-width":"500",persistent:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.notesModal,callback:function(e){t.notesModal=e},expression:"notesModal"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Notas privadas")]),t._v(" "),r("v-card-text",{staticClass:"pb-0 px-2"},[r("FieldTextArea",{attrs:{heading:""},model:{value:t.form.notas,callback:function(e){t.$set(t.form,"notas",e)},expression:"form.notas"}})],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(e){return t.cancel()}}},[t._v("Cancelar")]),t._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.updateTrabajo()}}},[t._v("Aceptar")])],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{"max-width":"350",persistent:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.optionsModal,callback:function(e){t.optionsModal=e},expression:"optionsModal"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Opciones")]),t._v(" "),r("v-card-text",{staticClass:"pb-0"},[r("p",[t._v("\n          Para cambiar la fecha de la cita, cambie el estado a\n          "),r("a",{on:{click:function(e){e.stopPropagation(),t.form.estado="CONSULTA"}}},[t._v("CONSULTA")]),t._v("\n          y acuerde otra fecha con el cliente.\n        ")]),t._v(" "),r("p",{staticClass:"mb-2 mt-2"},[t._v("Cambiar el estado del trabajo")]),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-select",{staticClass:"pt-0",attrs:{dense:"","hide-details":"",items:t.Estados,"item-text":"label","item-value":"key",label:"Estado",outlined:"",readonly:t.loading},model:{value:t.form.estado,callback:function(e){t.$set(t.form,"estado",e)},expression:"form.estado"}})],1),t._v(" "),r("p",{staticClass:"mb-0 mt-2"},[t._v("Cambiar la duración del trabajo.")]),t._v(" "),r("v-layout",[r("FieldDate",{attrs:{disabled:"CONSULTA"===t.form.estado,min:(new Date).toISOString().substr(0,10)},model:{value:t.form.fechaFin,callback:function(e){t.$set(t.form,"fechaFin",e)},expression:"form.fechaFin"}}),t._v(" "),r("FieldTime",{attrs:{disabled:"CONSULTA"===t.form.estado},model:{value:t.form.fechaFin,callback:function(e){t.$set(t.form,"fechaFin",e)},expression:"form.fechaFin"}})],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(e){return t.cancel()}}},[t._v("Cancelar")]),t._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.updateTrabajo()}}},[t._v("Aceptar")])],1)],1)],1),t._v(" "),r("ModalPublicJob",{attrs:{trabajo:t.trabajo},on:{change:function(e){return t.publish()}},model:{value:t.showModalPublic,callback:function(e){t.showModalPublic=e},expression:"showModalPublic"}}),t._v(" "),r("v-hover",{attrs:{"open-delay":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.hover;return[r("v-card",{staticClass:"my-4",attrs:{outlined:"",elevation:n?1:0}},[t.isPablic?t._e():r("v-card-title",{staticClass:"pb-0"},[r("v-layout",{attrs:{wrap:""}},[r("v-layout",{attrs:{"align-center":""}},[r("Avatar",{staticClass:"ma-2",attrs:{size:"64",src:t.displayPicture}}),t._v(" "),r("v-flex",[r("v-layout",{attrs:{column:""}},[r("a",{staticClass:"title mb-0",on:{click:t.goToPerfi}},[t._v(t._s(t.displayName))]),t._v(" "),r("span",{staticClass:"body-1",domProps:{textContent:t._s(t.displayEmail)}})])],1)],1),t._v(" "),r("v-layout",{attrs:{column:"","justify-start":"","align-end":"","fill-height":""}},[r("v-chip",{attrs:{outlined:"",color:t.estadosColor,small:""},domProps:{textContent:t._s(t.estadoLabel)}}),t._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:t.isEstado.PENDIENTE||t.isEstado.EN_PROGRESO,expression:"isEstado.PENDIENTE || isEstado.EN_PROGRESO"}],staticClass:"mb-0 mt-2 display-1 font-weight-black"},[t._v("\n              "+t._s(t.displayFecha)+"\n            ")])],1)],1)],1),t._v(" "),r("v-card-text",{class:{"pb-0":!t.isPablic}},[r("v-layout",{attrs:{column:t.$vuetify.breakpoint.smAndDown}},[t.isPablic?r("v-flex",{staticClass:"grey lighten-3 d-inline-flex xs12 md4"},[t.avatarError?r("div",{staticStyle:{height:"225px",display:"flex",flex:"auto"}},[r("v-icon",{staticStyle:{margin:"auto"},attrs:{size:"128"}},[t._v("wallpaper")])],1):r("v-img",{attrs:{src:t.base64img,height:"225",width:"225","aspect-ratio":"1"}})],1):t._e(),t._v(" "),r("v-flex",{attrs:{xs12:"",md8:t.isPablic}},[r("v-layout",{attrs:{column:"","pl-4":"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","mb-2":""}},[r("v-flex",{attrs:{xs12:""}},[r("v-layout",{staticClass:"flex-row text-no-wrap",attrs:{"align-center":"","fill-height":""}},[r("p",{staticClass:"headline black--text text-truncate mb-0"},[t._v("\n                      "+t._s(t._f("camelCase")(t.trabajo.descripcion_breve))+"\n                    ")])])],1),t._v(" "),t.isMyPublicJob?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{icon:"",text:""},on:{click:function(e){return t.$emit("edit",t.trabajo)}}},n),[r("v-icon",[t._v("edit")])],1)]}}],null,!0)},[t._v("\n                  Editar trabajo\n                ")]):t._e()],1),t._v(" "),r("v-layout",{attrs:{column:"","fill-height":"","align-start":""}},[r("p",{domProps:{textContent:t._s(t.trabajo.descripcion)}})]),t._v(" "),r("v-layout",{attrs:{"align-center":""}},[r("v-flex",t._l(t.trabajo.servicios,(function(e,n){return r("v-chip",{key:n,attrs:{outlined:""},domProps:{textContent:t._s(e.nombre)}})})),1),t._v(" "),t.isEstado.TERMINADO&&t.trabajo.cliente?r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-layout",{attrs:{"justify-end":"","align-start":""}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("div",t._g({},n),[r("Rating",{attrs:{value:t.trabajo.rating,size:"22",editable:t.canRating},on:{change:t.saveRating}})],1)]}}],null,!0)},[t._v("\n                      Opinion del cliente\n                    ")])],1)],1):t._e()],1),t._v(" "),t.isEstado.TERMINADO?r("v-layout",{attrs:{"align-center":""}},[r("v-flex",[t._v(" "+t._s(t.displayFecha)+" ")])],1):t._e()],1)],1)],1)],1),t._v(" "),t.isPablic?t._e():r("v-card-actions",{staticClass:"px-4 pb-4"},[r("v-layout",{attrs:{"align-center":""}},[t.isEstado.CONSULTA?r("v-btn",{attrs:{color:"red darken-4",text:""},on:{click:t.reject}},[t._v("\n            "+t._s(t.showAsCliente?"Cancelar":"Rechazar")+"\n          ")]):t._e(),t._v(" "),t.showAsCliente||!t.isEstado.PENDIENTE&&!t.isEstado.EN_PROGRESO?t._e():[t.mdAndDown?r("v-btn",{attrs:{color:"teal",icon:""},on:{click:function(e){e.stopPropagation(),t.optionsModal=!0}}},[r("v-icon",[t._v("edit")])],1):r("v-btn",{attrs:{color:"teal",outlined:""},on:{click:function(e){e.stopPropagation(),t.optionsModal=!0}}},[t._v("\n              Opciones\n            ")])],t._v(" "),!t.showAsCliente&&t.isEstado.EN_PROGRESO?[t.mdAndDown?r("v-btn",{attrs:{color:"deep-purple",icon:""},on:{click:t.markAsDone}},[r("v-icon",[t._v("done")])],1):r("v-btn",{staticClass:"mx-2",attrs:{color:"deep-purple",text:""},on:{click:t.markAsDone}},[t._v("\n              Trabajo terminado\n            ")])]:t._e(),t._v(" "),r("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.showAsCliente&&t.isEstado.TERMINADO,expression:"!showAsCliente && isEstado.TERMINADO"}],staticClass:"mx-2",attrs:{text:""},on:{click:function(e){e.stopPropagation(),t.showModalPublic=!0}}},[t._v("\n            Publicar\n          ")]),t._v(" "),r("v-layout",{attrs:{"align-center":"","justify-end":""}},[t.showAsCliente?t._e():r("v-btn",{staticClass:"mx-2",attrs:{color:"primary",text:""},on:{click:t.addNotes}},[t._v("\n              Notas\n            ")]),t._v(" "),r("v-badge",{attrs:{color:"error",overlap:"",value:t.newComments}},[r("v-btn",{attrs:{color:"black",outlined:""},on:{click:t.openChat}},[t.showChat?r("v-icon",{attrs:{left:""}},[t._v("keyboard_arrow_down")]):r("v-icon",{attrs:{left:""}},[t._v("keyboard_arrow_up")]),t._v("\n                Chat\n              ")],1)],1)],1)],2)],1),t._v(" "),r("v-expand-transition",[r("v-card-text",{directives:[{name:"show",rawName:"v-show",value:t.showChat,expression:"showChat"}],staticClass:"pt-0"},[r("div",{ref:"chat",staticClass:"grey lighten-4 mb-3 pa-4 chat-box"},[0===t.comunicaciones.length?r("v-layout",{attrs:{column:"","fill-height":"","align-center":"","justify-center":""}},[r("v-icon",{attrs:{size:"96"}},[t._v("mail")]),t._v(" "),t.loading?r("v-progress-linear",{attrs:{indeterminate:"",active:"",color:"black"}}):r("p",{staticClass:"headline"},[t._v("Sin mensajes.")])],1):t._e(),t._v(" "),t._l(t.comunicaciones,(function(e,i){return r("CardChat",{key:i,attrs:{editable:t.isEstado.CONSULTA&&t.idLastChatsWithDate===e._id,chat:e},on:{accept:t.accept}})})),t._v(" "),r("div",{staticClass:"mb-4"})],2),t._v(" "),r("v-layout",{directives:[{name:"show",rawName:"v-show",value:!t.isEstado.CANCELADO,expression:"!isEstado.CANCELADO"}]},[r("v-flex",{attrs:{xs12:"","mt-2":""}},[r("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.showSetHours,expression:"showSetHours"}],attrs:{wrap:"","mx-12":"","justify-center":"","align-center":""}},[r("v-flex",{attrs:{xs12:"",md6:"",lg4:""}},[r("FieldDate",{attrs:{"hide-details":"",min:(new Date).toISOString().substr(0,10)},model:{value:t.form.fechaInicio,callback:function(e){t.$set(t.form,"fechaInicio",e)},expression:"form.fechaInicio"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md6:"",lg4:""}},[r("FieldTime",{attrs:{"hide-details":""},model:{value:t.form.fechaInicio,callback:function(e){t.$set(t.form,"fechaInicio",e)},expression:"form.fechaInicio"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md6:"",lg4:""}},[r("v-btn",{staticClass:"ml-2",attrs:{color:"primary",outlined:""},on:{click:t.sendHours}},[t._v("\n                    Proponer fecha\n                  ")])],1)],1),t._v(" "),r("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!t.showSetHours,expression:"!showSetHours"}],attrs:{dense:"","hide-details":"",outlined:"",readonly:t.loading,"append-icon":"send",autocomplete:"off"},on:{"click:append":t.sendComent,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendComent(e)}},model:{value:t.form.detalle,callback:function(e){t.$set(t.form,"detalle",e)},expression:"form.detalle"}})],1),t._v(" "),r("v-layout",{attrs:{column:"","align-center":"","mx-2":"","mt-2":"","ml-2":""}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{disabled:!t.isEstado.CONSULTA,color:"teal",icon:""},on:{click:function(e){e.stopPropagation(),t.showSetHours=!t.showSetHours}}},n),[t.showSetHours?r("v-icon",[t._v("keyboard")]):r("v-icon",[t._v("insert_invitation")])],1)]}}],null,!0)},[t._v(" "),t.showSetHours?r("span",[t._v("Volver al teclado")]):r("span",[t._v("Proponer una fecha para la cita")])])],1)],1)],1)],1)],1)]}}])})],1)}),[],!1,null,"0a725862",null);e.a=component.exports;l()(component,{VBadge:d.a,VBtn:f.a,VCard:v.a,VCardActions:m.a,VCardText:m.b,VCardTitle:m.c,VChip:h.a,VDialog:x.a,VExpandTransition:y.a,VFlex:_.a,VHover:j.a,VIcon:w.a,VImg:k.a,VLayout:C.a,VProgressLinear:O.a,VSelect:E.a,VSpacer:T.a,VTextField:D.a,VTooltip:P.a})},513:function(t,e){},569:function(t,e,r){"use strict";var n=r(513),o=r.n(n);e.default=o.a},588:function(t,e,r){"use strict";r.r(e);r(58);var n=r(18),o=r(466),c=r(459),l=r(489),d=r(222),f={middleware:"authenticated",layout:function(){return o.isMobile?"mobile":"default"},components:{CardTrabajo:l.a},validate:function(t){var e=t.params;return!0===Object(d.a)()(e.id)},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.params).id){e.next=9;break}return e.next=4,c.e.getById(r.id,{populate:"servicios,localidad,cliente,profesional"});case 4:return n=e.sent,data=n.data,e.abrupt("return",{trabajo:data});case 9:return e.abrupt("return",{trabajo:null});case 10:case"end":return e.stop()}}),e)})))()},data:function(){return{ready:!0}},computed:{user:function(){return this.$store.state.user||{}}},mounted:function(){},methods:{}},v=r(27),m=r(569),h=r(42),x=r.n(h),y=r(449),_=r(450),j=r(265),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{column:"","mb-2":"","px-2":""}},[r("div",{staticClass:"hidden-md-and-down",staticStyle:{"margin-top":"60px"}}),t._v(" "),r("div",{staticClass:"hidden-md-and-up",staticStyle:{"margin-top":"40px"}}),t._v(" "),t.trabajo?r("v-layout",{attrs:{"justify-center":"","fill-height":"","mt-0":""}},[r("v-flex",{attrs:{xs12:"",lg7:"",xl5:""}},[r("CardTrabajo",{attrs:{trabajo:t.trabajo},on:{change:t.loadData}})],1)],1):r("v-row",{staticClass:"mb-12",attrs:{align:"center",justify:"center"}},[r("div",{staticClass:"text-center"},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"120",fill:"#DBE1EC",viewBox:"0 0 48 48"}},[r("path",{attrs:{d:"M22 30h4v4h-4zm0-16h4v12h-4zm1.99-10C12.94 4 4 12.95 4 24s8.94 20 19.99 20S44 35.05 44 24 35.04 4 23.99 4zM24 40c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z"}})]),t._v(" "),r("h1",[t._v("Trabajo no encontrado")]),t._v(" "),r("p",{staticClass:"description mt-4"},[r("a",{on:{click:function(e){return t.$router.back()}}},[t._v("Volver")])])])])],1)}),[],!1,null,null,null);"function"==typeof m.default&&Object(m.default)(component);e.default=component.exports;x()(component,{VFlex:y.a,VLayout:_.a,VRow:j.a})}}]);